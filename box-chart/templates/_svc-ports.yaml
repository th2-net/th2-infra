{{/*
Generating _svc-ports for k8
*/}}
{{- define "svc-ports" }}
{{- if not .Values.component.extendedSettings.service }}
{{- else }}
{{- if .Values.component.extendedSettings.service.enabled }}

{{- if .Values.component.extendedSettings.service.nodePort }}
        {{- range $list := .Values.component.extendedSettings.service.nodePort }}
    - name: {{ $list.name }}
      protocol: TCP
          {{- if not $list.containerPort }}
      port: 8080
      targetPort: 8080
          {{- else }}
      port: {{ $list.containerPort }}
      targetPort: {{ $list.containerPort }}
          {{- end }}
      nodePort: {{ $list.exposedPort }}
        {{- end }}
    {{- else }}

    {{- if not .Values.component.extendedSettings.service.clusterIP }}
    - name: default
      port: 8080
      targetPort: 8080
      protocol: TCP
    {{ else }}
        {{- range $list := .Values.component.extendedSettings.service.clusterIP }}
    - name: {{ $list.name }}
      protocol: TCP
          {{- if not $list.containerPort }}
      port: 8080
      targetPort: 8080
          {{- else }}
      port: {{ $list.containerPort }}
      targetPort: {{ $list.containerPort }}
          {{- end }}
        {{- end }}
      {{- end }}
  {{- end }}
{{- end }}
{{- end }}
{{- end }}
