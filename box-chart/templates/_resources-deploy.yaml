{{/*
Generating resources section for k8
*/}}
{{- define "resources" }}
        resources:
        {{- if not .component.extendedSettings.resources }}
          limits:
            memory: 200Mi
            cpu: 200m
            ephemeral-storage: "2Gi"
          requests:
            memory: 100Mi
            cpu: 50m
            ephemeral-storage: "1Gi"
        {{- else }}
          limits:
          {{- if not .component.extendedSettings.resources.limits }}
            memory: 200Mi
            cpu: 200m
            ephemeral-storage: "2Gi"
          {{- else }}
            {{- if not .component.extendedSettings.resources.limits.memory }}
            memory: 200Mi
            {{- else }}
            memory: {{ .component.extendedSettings.resources.limits.memory }}
            {{- end }}
            {{- if not .component.extendedSettings.resources.limits.cpu }}
            cpu: 200m
            {{- else }}
            cpu: {{ .component.extendedSettings.resources.limits.cpu }}
            {{- end }}
            {{- if not .component.extendedSettings.resources.limits.ephemeral-storage }}
            ephemeral-storage: "2Gi"
            {{- else }}
            ephemeral-storage: {{ .component.extendedSettings.resources.limits.ephemeral-storage }}
            {{- end }}
          {{- end }}
          requests:
          {{- if not .component.extendedSettings.resources.requests }}
            memory: 100Mi
            cpu: 20m
            ephemeral-storage: "1Gi"
          {{- else }}
            {{- if not .component.extendedSettings.resources.requests.memory }}
            memory: 100Mi
            {{- else }}
            memory: {{ .component.extendedSettings.resources.requests.memory }}
            {{- end }}
            {{- if not .component.extendedSettings.resources.requests.cpu }}
            cpu: 20m
            {{- else }}
            cpu: {{ .component.extendedSettings.resources.requests.cpu }}
            {{- end }}
            {{- if not .component.extendedSettings.resources.requests.ephemeral-storage }}
            ephemeral-storage: "1Gi"
            {{- else }}
            ephemeral-storage: {{ .component.extendedSettings.resources.requests.ephemeral-storage }}
            {{- end }}
          {{- end }}
          {{- end }}
{{- end }}
